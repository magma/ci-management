- project:
    name: teravm-project-view
    project-name: teravm
    views:
      - project-view
- project:
    name: teravm-jobs
    jobs:
      - "{project-name}-LF-teravm"
    project: teravm
    project-name: teravm
    archive-artifacts: "**/*.log"
    branch: main
    build-timeout: 60
    #build-node: ci-teravm
    jjb-version: 3.5.0
    # configure the gerrit-jjb-verify job
    build-node-label-check: true
    build-node-label-list: "ci-teravm"

- publishers:
    - email:
          recipients: "vagrawal@fb.com"
    - email-ext:
          recipients: "vagrawal@fb.com"
          reply-to: "vagrawal@fb.com"
          content-type: default
          subject: "{email-prefix} $PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS!"
          body: |
            $PROJECT_NAME - Build # $BUILD_NUMBER - $BUILD_STATUS:
            Please refer to the logs server URL for console logs when possible
            and use test the Jenkins Build URL as a last resort.
          unstable: true
          fixed: true
          always: true
          attachments: "**/reports/*"
          send-to:
            - "vagrawal@fb.com"
    - slack:
          team-domain: "magmacore"
          auth-token: "DPKFwmiCxQ9VPq95liGUCEwk"
          auth-token-id: "magma-test"
          room: "#magma-test"
          notify-start: True
          notify-success: True
          notify-aborted: True
          notify-not-built: True
          #notify-unstable: True
          notify-failure: True
          #notify-every-failure: True
          #notify-back-to-normal: True
          #notify-repeated-failure: True
          #notify-regression: True
          #include-test-summary: True
          #include-failed-tests: True
          commit-info-choice: "AUTHORS_AND_TITLES"
          include-custom-message: True
          custom-message: "A teravm integration custom message."
          #auth-token-credential-id: yourauthtoken
          #bot-user: True
          base-url: https://hooks.slack.com/services/T018QE9RWKT/B0275PGJ01K/
          #base-url: https://hooks.slack.com/services/
